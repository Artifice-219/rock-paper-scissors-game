<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="game-ui.css" />
    <title>Rock-Paper-Scissors</title>
    <link rel="icon" type="image/x-icon" href="robot.jpg">
  </head>
  <body>
    <div class="computer-side">
      <p>Computer</p>
      <div class="image-wrapper" id="computer_choice_img"></div>
      <div class="score-wrapper">
        <p>Computer score: <span id="computer-score">0</span></p>
      </div>
    </div>

    <div class="separator">
      <p id="separator-text">Make a choice</p>
    </div>

    <div class="player-side">
      <p>Player</p>
      <div class="life">
        <div class="heart-image">
          <img src="assets/heart-removebg-preview.png" alt="" />
        </div>
        <p id="player-life">3</p>
      </div>
      <div class="image-wrapper" id="player_choice_img"></div>
      <div class="score-wrapper">
        <p>Your score: <span id="player-score">0</span></p>
      </div>
    </div>

    <div class="choice">
      <div class="paper">
        <img
          src="assets/open palm hands.jpg"
          alt="hands"
          onclick="player_choice('paper')"
        />
      </div>
      <div class="rock">
        <img
          src="assets/rock hans.jpg"
          alt="rock-hand-sign"
          onclick="player_choice('rock')"
        />
      </div>
      <div class="scissor">
        <img
          src="assets/scissor hands.jpg"
          alt="scissor-hand-sign"
          onclick="player_choice('scissors')"
        />
      </div>
    </div>

    <!-- UI's for the winners -->
    <div class="winning-prompt">
      <span class="close-view">&times;</span>
      <div class="winning-img">
        <img src="assets/thropy-removebg-preview.png" alt="" />
      </div>
      <p>Congratulatons You Won</p>
      <div class="navigation">
        <a href="index.html">
          <button>Play Again</button>
        </a>
        <button>Exit</button>
      </div>
    </div>

    <div class="losing-prompt">
      <span class="close-view">&times;</span>
      <div class="losing-img">
        <img src="assets/you-lose.jpg" alt="">
      </div>
      <p>Computer Wins</p>
      <p>Oops Loser</p>
      <div class="navigation">
        <a href="index.html">
          <button>Play Again</button>
        </a>
        <button>Exit</button>
      </div>
    </div>

    <!-- Player class definition -->
    <script>
      class Player {
        #user_name;
        #score = 0;
        #life = 3;
        #user_choice;

        constructor(user_name) {
          this.#user_name = user_name;
        }

        // Getters
        get choice() {
          return this.#user_choice;
        }
        get name() {
          return this.#user_name;
        }
        get score() {
          return this.#score;
        }
        get life() {
          return this.#life;
        }

        // Setters
        set choice(user_choice) {
          this.#user_choice = user_choice;
        }

        set score(value) {
          // This should only be called to make sure player score remains valid
          // Must not be used to increase or decrease score in-game
          this.#score = value;
        }

        // Methods
        decrement_life() {
          this.#life -= 1;
        }
        increment_score() {
          this.#score += 1;
        }
        decrement_score() {
          this.#score -= 1;
        }
      }
    </script>

    <!-- Computer class definition -->
    <script>
      class Computer {
        #name = "Computer";
        #score = 0;
        #life = 3;
        #computer_choice;

        // Getters
        get choice() {
          return this.#computer_choice;
        }
        get name() {
          return this.#name;
        }
        get score() {
          return this.#score;
        }
        get life() {
          return this.#life;
        }

        // Setters
        set choice(computer_choice) {
          this.#computer_choice = computer_choice;
        }

        // Methods
        decrement_life() {
          this.#life -= 1;
        }
        increment_score() {
          this.#score += 1;
        }
        decrement_score() {
          this.#score -= 1;
        }
      }
    </script>

    <!-- Helper functions -->
    <script>
      // Generate a random number from 1-3
      function generate_num() {
        return Math.round(Math.random() * 2) + 1;
      }

      // Associate the number with a choice
      function choice_associate(number) {
        switch (number) {
          case 1:
            return "paper";
          case 2:
            return "rock";
          case 3:
            return "scissors";
        }
      }
    </script>

    <!-- Instantiate computer object -->
    <script>
      let computer = new Computer();
    </script>

    <!-- Main game logic -->
     <script src="game-script.js"></script>
  </body>
</html>
